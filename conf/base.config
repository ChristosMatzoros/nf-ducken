/*
========================================================================================
    nf-16s-pipe Nextflow base config file
========================================================================================
    A 'blank slate' config file, appropriate for general use on most high performance
    compute environments. Assumes that all software is installed and available on
    the PATH. Runs in `local` mode - all jobs will be run on the logged in environment.
----------------------------------------------------------------------------------------
    Currently a near-carbon copy of nf-core/ampliseq's base config.
*/

process {
    // errorStrategy process labels
    errorStrategy = { task.exitStatus in [143,137,104,134,139] ? 'retry' : 'finish' }
    maxRetries    = 3
    maxErrors     = '-1'

    withLabel:error_ignore {
        errorStrategy = 'ignore'
    }
    withLabel:error_retry {
        errorStrategy = 'retry'
        maxRetries    = 3
    }

    // Containerization
    withLabel:singularity_qiime2 {
        container = "quay.io/qiime2/core:${params.qiime_release}"
    }
}

tower {
    enabled = true
}